Using network 'development'.


Compiling your contracts...
===========================
> Everything is up to date, there is nothing to compile.

[0m[0m
[0m  Contract: Post[0m
  [31m  1) initiates contract[0m
    > No events were emitted
  [31m  2) like[0m
    > No events were emitted
  [31m  3) changePrice[0m

    Events emitted during test:
    ---------------------------

    IPost.PriceChanged(
      price: [33m2[39m (type: int64)
    )


    ---------------------------

[0m  Contract: User[0m
  [31m  4) initiates contract[0m
    > No events were emitted
  [31m  5) updateName[0m

    Events emitted during test:
    ---------------------------

    IUser.NameUpdated(
      name: [32m'new-name'[39m (type: string)
    )


    ---------------------------
  [32m  âœ”[0m[90m updateEmail[0m[31m (248ms)[0m
  [32m  âœ”[0m[90m transferOwnership[0m[31m (239ms)[0m
  [31m  6) buyUser[0m

    Events emitted during test:
    ---------------------------

    IUser.OwnershipTransferred(
      oldOwner: [33m0x55B3F38431857eCD8d6b09a43a719f95e91F6e63[39m (type: address),
      newOwner: [33m0x61E6f09f8929c47046C730A16fB11e3d606CB640[39m (type: address)
    )


    ---------------------------
  [31m  7) createPost[0m

    Events emitted during test:
    ---------------------------

    IPost.PostCreated(
      post: [33m0xE669dBdF5c904Cff073AB857598000574994C257[39m (type: address)
    )

    IUser.PostCreated(
      post: [33m0xE669dBdF5c904Cff073AB857598000574994C257[39m (type: address)
    )


    ---------------------------
  [31m  8) buyPost[0m
    > No events were emitted
  [31m  9) isPostOwner[0m
    > No events were emitted
  [31m  10) follow[0m

    Events emitted during test:
    ---------------------------

    IUser.Followed(
      user: [33m0xAaf31d736BD792401fB75550e082199F31a08870[39m (type: address)
    )


    ---------------------------
  [31m  11) detectSoldPosts[0m
    > No events were emitted
  [32m  âœ”[0m[90m removePost[0m[31m (242ms)[0m


[92m [0m[32m 3 passing[0m[90m (5s)[0m
[31m  11 failing[0m

[0m  1) Contract: Post
       initiates contract:
[0m[31m     AssertionError: name is not martin-test: expected undefined to equal 'martin-test'[0m[90m
      at Context.<anonymous> (test/post.js:11:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  2) Contract: Post
       like:
[0m[31m     Error: Invalid number of parameters for "like". Got 1 expected 0![0m[90m
      at Context.<anonymous> (test/post.js:23:24)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  3) Contract: Post
       changePrice:
[0m[31m     AssertionError: price is not 2: expected [Function] to equal 2[0m[90m
      at Context.<anonymous> (test/post.js:29:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  4) Contract: User
       initiates contract:
[0m[31m     AssertionError: name is not martin-test: expected [Function] to equal 'martin-test'[0m[90m
      at Context.<anonymous> (test/user.js:10:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  5) Contract: User
       updateName:
[0m[31m     AssertionError: name is not new-name: expected [Function] to equal 'new-name'[0m[90m
      at Context.<anonymous> (test/user.js:17:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  6) Contract: User
       buyUser:

      [31mowner is not accounts[1][0m
      [32m+ expected[0m [31m- actual[0m

      [31m-0x61E6f09f8929c47046C730A16fB11e3d606CB640[0m
      [32m+0x55B3F38431857eCD8d6b09a43a719f95e91F6e63[0m
      [0m[90m
      at Context.<anonymous> (test/user.js:35:16)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  7) Contract: User
       createPost:
[0m[31m     TypeError: Cannot read properties of undefined (reading 'name')[0m[90m
      at Context.<anonymous> (test/user.js:41:27)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  8) Contract: User
       buyPost:
[0m[31m     Error: Returned error: VM Exception while processing transaction: revert[0m[90m
      at Context.<anonymous> (test/user.js:46:24)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  9) Contract: User
       isPostOwner:
[0m[31m     Error: Returned error: VM Exception while processing transaction: revert[0m[90m
      at Context.<anonymous> (test/user.js:53:31)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  10) Contract: User
       follow:
[0m[31m     AssertionError: following is not true[0m[90m
      at Context.<anonymous> (test/user.js:59:9)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m
[0m  11) Contract: User
       detectSoldPosts:
[0m[31m     Error: Returned error: VM Exception while processing transaction: revert[0m[90m
      at Context.<anonymous> (test/user.js:66:26)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
[0m


